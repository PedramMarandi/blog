{"data":{"markdownRemark":{"html":"<p>وانیلا؛ نه فِریم وورکه نه یک کتابخونه تازه و نه چیزی شبیه به این. وانیلا یک جور ایده است با این هدف که توسعه دهنده‌هایِ جاوا‌اسکریپت، ترغیب بشن تا به صورت ساده و بی هیچ ابزاری برنامه‌نویسی کنن. البته نه به این جهت که ابزار‌ها بد هستن، به این خاطر که اکثر اونها دائم تغییر میکنن و حتی منسوخ میشن! و طبیعی هست که ما برای بقا، به دانشی بیشتر از دونستن راه تعامل با اون ابزار‌ها احتیاج داریم. بیشتر از این در مورد وانیلا توضیح نمیدم اگر به دنبال اطلاعات بیشتری هستید به <a href=\"https://snipcart.com/blog/learn-vanilla-javascript-before-using-js-frameworks\">اینجا</a> مراجعه کنید.</p>\n<!-- excerpt -->\n<h2>بریم سراغ اصل مطلب</h2>\n<p>قراره روند ساختِ یک اسلاید‌شو‌ رو بدون در نظر گرفتنِ فایل‌های HTML و CSS اون، با هم مرور کنیم. تو این آموزش کمی هم از ویژگی‌های ES6 استفاده کردم که البته این استفاده خیلی گسترده نیست و سعی میکنم هر جا که لازم بود، توضیحات کوتاهی برای درک بهتر هرکدوم بنویسم.<br/>برای آغاز کار میتونید فایل‌های مربوط به پروژمون رو از <a href=\"%7B%7B%20site.url%20%7D%7D/download/Training-Files.zip\">اینجا</a>دانلود کنید. پیشنهادم اینه که با استفاده از فایلِ <mark>index-start.html</mark> که در حال حاضر دانلود کردید، قدم به قدم با هم پیش بریم، البته اجباری نیست، میتونید هر طور که مایل هستید از این آموزش استفاده کنید.</p>\n<p>نتیجه کار نهایی‌مون رو هم میتونید این پایین ببنید.</p>\n<iframe height='418' scrolling='no' title='Image slider by vanilla javaScript' src='//codepen.io/rzkhosroshahi/embed/MpyJKz/?height=418&theme-id=28195&default-tab=result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/rzkhosroshahi/pen/MpyJKz/'>Image slider by vanilla javaScript</a> by Reza (<a href='http://codepen.io/rzkhosroshahi'>@rzkhosroshahi</a>) on <a href='http://codepen.io'>CodePen</a>.\n</iframe>\n<h2>اسلاید‌شو ما چطور کار میکنه؟</h2>\n<p>تصور کنید یک نوار نگاتیو دستتون گرفتید و هر بار به یکی از عکس‌ها نگاه میکنید و بلافاصله عکس فعلی‌و رد میکنید و بعدی و بعدی و .… کاری هم که ما قراره انجام بدیم تقریبا مشابه همین اتفاق است. بخش اصلی از فایل HTML رو پایین میبینید. همونطور که مشخصه عنصر با کلاس <mark>slide</mark> حکم نوار نگاتیو رو داره و عناصر داخلی هم که مشخصا عکس‌ها هستن.<br/> حالا بریم ببینیم چطور با CSS به عناصر طوری استایل بدیم که بتونیم به حرکت دربیاریمشون.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>slide<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>1.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>2.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>3.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>4.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>5.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ما به عنصر <mark>slide</mark> با دادن مقدار هزار درصد به عنوان طول <mark>width: 1000%</mark> گفتیم که حداکثر ده عدد عکس رو داخل خودش جا بده، و از طرفی هر کدوم از این عکس‌ها طولی برابرِ <mark>width: 10%</mark> رو داشته باشن. اگه بخوام کمی بیشتر توضیح بدم، دقت کنید که در نهایت هر کدوم از عکس‌ها صد درصد از هزار درصدِ عنصرِ والدشون رو میگیرن و از طریقِ این مفهوم، با یک حساب ساده متوجه میشید که چرا ده عدد عکس داخل این عنصر جا میگیره و یازدهمین عکس به خط بعدی منتقل میشه.<br/>در ادامه با دادن استایلِ <mark>overflow: hidden</mark> به عنصر slide، قرار میگذاریم اگر عکس‌های داخل این عنصر از ۱۰۰ درصدِ اسلاید سرریز کرد، باقیِ اون صد در صد رو مخفی کنه. با این کار ما هر بار تنها یک عکس‌ رو خواهیم دید که صد درصدِ عنصرِ اسلاید‌ رو گرفته.\n<span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 550px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 58.72727272727273%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAAA8UlEQVQoz6WQy0oDMRhG8zxuxYWCm2Lp47j3sqqPIQNlLmSSyFwqA7N22umifQS31p2086fONXGmhYDUNqKHQyCQwwdBvBRZIfJKFLX8jWUjq0bWjWxBq0K+QXf/A4hz2PD2gCNuIPuAfAnyHYRyCQK5Wwgh9AAuZWNq3+D5hVVd2VnP5koUhmEcx0EQtO/YTxD29MycW7w472L4Fvu+H0WR53m7/X0woSGxumV7b7ltMMaHSk1MdByLqY7dh925i0unGjjQd7gSmTpGpsXMx+vR7MQoz4z1qQFKlOqYprN5+oInr/dJ/ZB8DpNcieQ/+ALLrSoOad49iwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"alt\"\n        title=\"\"\n        src=\"/gatsby-blog/static/187ae419139159d8c80f9fd7901dc9aa/fb0a0/slideShow-concept-preview.png\"\n        srcset=\"/gatsby-blog/static/187ae419139159d8c80f9fd7901dc9aa/d934c/slideShow-concept-preview.png 200w,\n/gatsby-blog/static/187ae419139159d8c80f9fd7901dc9aa/5b8d2/slideShow-concept-preview.png 400w,\n/gatsby-blog/static/187ae419139159d8c80f9fd7901dc9aa/fb0a0/slideShow-concept-preview.png 550w\"\n        sizes=\"(max-width: 550px) 100vw, 550px\"\n      />\n  </span></p>\n<h2>اسلاید قراره چطور به حرکت دربیاد؟</h2>\n<p>حلقه آخر کار ما با CSS دقیقا همینجاست. تنها کاری که باید انجام بدیم این هست که عنصر اسلاید‌مون رو هر بار به اندازه‌ ۱۰ درصد (طول هر عکسِ داخل عنصر اسلاید)، به سمت چپ یا راست به به حرکت دربیاریم با اینکار هر بار تنها یک عکس‌رو مشاهده می‌کنیم. به همین راحتی :) <br/>این کار به راحتی و با استفاده از استایلِ <mark>transform: translateX</mark> ممکن خواهد شد.</p>\n<h2>شروع کار با جاوااسکریپت</h2>\n<h3>قدم اول انتخاب عناصرِ HTML</h3>\n<p>بین تگ <mark>script</mark>شروع کنید به نوشتنِ کد‌ها.<br/>خیلی آسون میتونیم با <mark>document.querySelector</mark>، عناصر صفحه‌مون رو براساس کلاس، آیدی، نامِ تگ‌ها، اتریبیوت‌های تگ‌ها و… انتخاب کنیم. بریم تگ اسلاید و عکس‌هامون و دکمه عقب و جلو رو انتخاب کنیم:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//selectors</span>\n<span class=\"token keyword\">const</span> slide <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".slide\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> imgAll <span class=\"token operator\">=</span> slide<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> nextBtn <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".next\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> pervBtn <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".perv\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>یک نکته تو انتخاب عکس‌ها وجود داره، اون اینه که ما تمام عکس‌هایی که داخل عنصرِ اسلاید بود رو انتخاب کردیم. این کار‌و هم فقط با اضافه کردنِ حرف All به انتهای انتخابگرمون انجام دادیم.</p>\n<h3>قدم دوم تعریف رویدادِ کلیک برای دکمه‌ها</h3>\n<p>این که اسلاید ما متوجه کلیک شدن دکمه‌ای بشه و بعد تابع خاصی رو اجرا کنه هم خیلی ساده با استفاده از <mark class=\"en\">nextBtn.addEventListener(‘click’,//run func)</mark> اتفاق می‌افته. خیلی ساده به محضِ‌ اینکه دکمه <mark>nextBtn</mark> کلیک بشه تابع مورد نظر ما اجرا میشه. کد‌های زیر‌و هم وارد کنید.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">nextBtn<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> slideNext<span class=\"token punctuation\">)</span>\npervBtn<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> slidePervious<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>قدم سوم تعریف تابع slideNext</h3>\n<p>بهتره این قسمت از کد رو بین دو قطعه کدی که تا الان نوشتیم قرار بدید. اما بعد…<br/> ما قراره با هر بار کلیک بر روی دکمه <mark>next</mark> عکس بعدی‌مون رو ببینیم اصطلاحا به عکسِ بعدیمون اسلاید کنیم. یادآوری میکنم چند پاراگراف بالاتر گفتیم هر عکس داخل عنصر slide به اندازه ده درصد از عنصر والدِ خودش رو اشغال میکنه و <mark>overflow: hidden</mark> باعث میشه که ما فقط ده درصد از کل فضایی که عنصر <mark>slide</mark> اشغال کرده‌ رو ببینیم، پس برای اینکه بتونیم به عکس بعدی اسلاید کنیم، کافیه عنصرِ اسلاید هر بار با اجرای این تابع ۱۰ درصد به سمت راست یا چپ حرکت کنه که اینکارو هم توضیح دادم با استفاده از چه خاصیتی از css قادر به انجامش هستیم و خبر خوب اینه که جاوا‌اسکریپت این امکان رو به ما داده که به راحتی به عناصرمون استایل بدیم، دقیقا مشابه کاری که پایین انجامش دادیم.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">slideNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`translateX(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">%)`</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>یک نکته؛ اینجا ما برای راحتی کار از ویژگیِ‌ تازه‌ای از ES6 با سینتکسِ <mark class=\"en\">${…}</mark> استفاده کردیم که با عنوانِ <a href=\"http://wesbos.com/javascript-template-strings/\">template strings</a> شناخته میشه، و کار ما رو برایِ ترکیب انواع مختلف داده‌ها برای فرستادن به تابع‌مون آسان‌تر میکنه، برای نمونه اگر به قطعه کد بالا دقت کنید، میبینید که ما ترکیبی از علامتِ عدد به همراه عدد و هم‌چنین واحد اندازه گیریِ درصد رو بدون هیچ مشکلی به راحتی کنار هم استفاده کردیم.</p>\n<p>اگر حالا نتیجه کارمون‌رو تست کنیم، میبینیم با این روند تنها به عکسِ دوم اسلاید میکنیم و این اتفاق در موردِ عکس‌های دوم و سوم و… نمی‌افته چرا؟! به این دلیل که با هر بار اجرای تابع slideNext مقدارِ translateX مساوی با <mark class=\"en\"> -10% </mark> میشه، در صورتی که ما قرارمون این بود که با هر بار کلیک بر روی دکمهِ بعدی مقدار translateX ده درصد کم یا زیاد بشه و به عبارتی آپدیت بشه. بهترین راه حل این است که، در لحظه از مقدارِ‌ translateX با خبر باشیم و سعی کنیم به اون مقداری اضافه یا کم کنیم.<br/>اما چطور و از چه طریقی میشه به این مقدار دسترسی داشت؟<br/></p>\n<h3>قدم چهارم تعریف تابعی برای گرفتن مقدارِ translateX</h3>\n<p>از طریقِ <mark>slide.style.transform</mark> میتونیم هر بار در صورت وجودش، مقدارِ اون رو به صورت یک دادهِ رشته‌ای داشته باشیم. اما صرفا با داشتن این مقدار ما قادر نیستیم عددی رو بهش اضافه یا ازش کم کنیم، چون همونطور که گفتم با یک داده رشته‌ای (string) طرف هستیم، و هر بار ما مقداری شبیه به این رو دریافت میکنیم:\n<mark class=\"en\">'translateX(-20%)'</mark>\nکاری که ما قراره انجام بدیم این هست که به نحوی, مقدار با نوعِ عددی از این رشته رو بقاپیم!\nاین کار با استفاده از\n<a href=\"https://fa.wikipedia.org/wiki/%D8%B9%D8%A8%D8%A7%D8%B1%D8%AA_%D8%A8%D8%A7%D9%82%D8%A7%D8%B9%D8%AF%D9%87\">Regular expression</a>\nانجام میدیم.<br/>\nبه قطعه کد زیر دقت کنید.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// grab digit property of transform</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">currentTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\">/(\\-|\\+)?\\d+/gi</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>اینجا اول از همه چک میکنیم که آیا عنصرِ اسلاید اصلا استایلی با مشخصه transform داره که بخوایم به مقدارش دسترسی داشته باشیم؟ اگر نه مقدارِ صفر‌و برمیگردونیم به این جهت که اگر تابع فراخوانی شد، مقدارِ undefined اشتباهی به استایل مورد نظرمون ارسال نشه. و در ادامه دستور شرطی اگر پاسخ‌مون آره باشه، با استفاده از رجکس مقدارِ عددی رشتمون رو انتخاب میکنیم و از طریق تابع جاوا‌اسکریپت <mark class=\"en\">Number();</mark> این مقدار‌و که یک مقدار از نوعِ رشته هست رو به مقدار عددی تبدیل میکنیم.</p>\n<p>همه‌چی آمادس! حالا چند‌تا کار قراره داخلِ‌ تابع slideNext انجام بدیم:</p>\n<ul>\n<li>با هر بار فراخونیِ تابع چک میکنیم آیا به انتهایِ‌ اسلاید رسیدیم یا نه.</li>\n<li>مقدارِ در لحظه‌یِ translateX رو هر بار ده درصد ازش کم میکنیم تا عنصرِ اسلاید به سمت راست حرکت کنه.</li>\n<li>در صورتی که عکس‌ها به آخر رسیده باشن مقدارِ صفر رو به translateX میفرستیم تا به اول اسلاید برگردیم.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">slideNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ref property that point to cuurent transform</span>\n  <span class=\"token keyword\">var</span> ref <span class=\"token operator\">=</span> <span class=\"token function\">currentTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">//use Math.abs function to ignoring any negative digit property</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>ref<span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> last<span class=\"token punctuation\">)</span> slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`translateX(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ref <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">%)`</span></span>\n  <span class=\"token keyword\">else</span> slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`translateX(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">0</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">%)`</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>اما <mark>last</mark>؟ با توجه به قطعه کد بالا و اسمِ متغیر واضحه که از این متغیر‌ استفاده کردیم تا بفهمیم، آیا به انتهایِ اسلاید رسیدیم یا خیر.اما فعلا این متغیر‌و تعریف نکردیم.<br/>\nبالا‌تر اگر قسمت انتخاب عناصر یادتون باشه گفتیم، ما تمامِ عکس‌هایِ داخلِ عنصرِ slide رو انتخاب کردیم، پس از این طریق میتونیم بفهمیم دقیقا چند‌تا عکس داریم به قطعه کد زیر دقت کنید:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// all images width</span>\n<span class=\"token keyword\">const</span> last <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>imgAll<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span></code></pre></div>\n<p>قطعه کد بالا اول از همه تعداد کلِ عکس‌ها رو میگیره و بعد اون رو در عددِ ۱۰ ضرب میکنه، از این طریق ما متوجه میشیم که اگر به وسیله تابعِ slideNext هر بار به مقدارِ translateX ده درصد اضافه کنیم، اینکارو تا کجا باید ادامه بدیم، برای نمونه در مورد مثال خودمون چون که ۵ تا عکس داریم نهایتا مقدارِ transform به ۵۰ ٪ میرسه پس کافیه داخل تابعِ slideNext ببینیم مقدارِ transform به ۵۰ رسیده یا نه، البته برای اینکار از تابعِ <mark class=\"en\">Math.abs()</mark> استفاده کردیم که عدد داخلش رو بدون در نظر گرفتنِ علامت منفی یا مثبت، برای ما چک کنه.</p>\n<h2>مرحله آخر</h2>\n<p>تنها کار باقی مانده تعریف تابعِ برگشت به اسلاید قبلی هست.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">slidePervious</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> ref <span class=\"token operator\">=</span> <span class=\"token function\">currentTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ref <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`translateX(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ref <span class=\"token operator\">+</span> <span class=\"token number\">10</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">%)`</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>خب تنها تفاوت کارمون داخل این تابع دو چیز هست، یک اینکه هر بار به مقدارِ translateX ده درصد اضافه میکنیم و دوم اینکه اینبار چک میکنیم آیا به اولِ اسلاید رسیدیم یا خیر.<br/>\nو در آخر کد نهاییِ ما باید چیزی شبیه به کد‌های پایین باشه.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//selectors</span>\n<span class=\"token keyword\">const</span> slide <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".slide\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> imgAll <span class=\"token operator\">=</span> slide<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> img <span class=\"token operator\">=</span> slide<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> nextBtn <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".next\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> pervBtn <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".perv\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// all images width</span>\n<span class=\"token keyword\">const</span> last <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>imgAll<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span>\n\n<span class=\"token comment\">// grab digit property of transform</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">currentTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\">/(\\-|\\+)?\\d+/gi</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">slideNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ref property that point to cuurent transform</span>\n  <span class=\"token keyword\">var</span> ref <span class=\"token operator\">=</span> <span class=\"token function\">currentTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">//use Math.abs function to ignoring any negative digit property</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>ref<span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> last<span class=\"token punctuation\">)</span> slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`translateX(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ref <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">%)`</span></span>\n  <span class=\"token keyword\">else</span> slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`translateX(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">0</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">%)`</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">slidePervious</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> ref <span class=\"token operator\">=</span> <span class=\"token function\">currentTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ref <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> slide<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`translateX(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ref <span class=\"token operator\">+</span> <span class=\"token number\">10</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">%)`</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Event listeners</span>\nnextBtn<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> slideNext<span class=\"token punctuation\">)</span>\npervBtn<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> slidePervious<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>چند منبعِ خوب در موردِ وانیلا جاوا‌اسکریپت</h2>\n<p>من با دوره‌ای از وبسایتِ  <a href=\"http://codecademy.com\">codecademy</a> شروع کردم، دوره خوبی بود اما اگر با مفاهیمِ  پایه‌ایِ  برنامه نویسی آشنایی دارید پیشنهادم اینه که با کتاب خوبِ <a href=\"http://eloquentjavascript.net\">Eloquent JavaScript</a> شروع کنید، این کتاب مجموعهِ،‌ تفریبا کاملی از مقدمات برنامه‌نویسی رو همراه با ویژگی‌های زبانِ  جاوااسکریپت رو کنار هم آورده که در هر فصل با استفاده از مثال‌های کاربردی و جذاب مطالعه کتاب رو برای خواننده لذت بخش میکنه.<br/> و یک منبعِ‌ خوب دیگه مجموعه کتاب‌های <span class=\"en\"><a href=\"http://github.com/getify/You-Dont-Know-JS\">You Don't Know JS (book series)</a></span>هست که میتونید رایگان و به صورتِ  آنلاین اونها رو مطالعه کنید. <br/> و آخرین لینک هم مربوط میشه به دوره ۳۰ روزه تصویریِ  رایگان و خیلی خوبِ <a href=\"http://javascript30.com\">30 Day Vanilla JS Coding Challenge</a>که میتونید کلی تکنیک و ترفند یاد بگیرید و با جاوااسکریپت کلی چیزای باحال بسازید.<br/>\nو همین… امیدوارم از این طریق تونسته باشم کمکی کرده باشم، اگر سوالی هم باشه در خدمتم.</p>","frontmatter":{"title":"ساخت یک اسلاید‌‌شو ساده با وانیلا جاوا‌اسکریپت","date":"2017-03-23","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,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","aspectRatio":0.49174917491749176,"src":"/gatsby-blog/static/ae48bccdcb727b4c9709aad03faaefed/0e9ea/vanilla-js.png","srcSet":"/gatsby-blog/static/ae48bccdcb727b4c9709aad03faaefed/0e9ea/vanilla-js.png 149w","sizes":"(max-width: 149px) 100vw, 149px"}}}}}},"pageContext":{"pathSlug":"/make-a-slideshow-by-vanilla-javascript","prev":null,"next":{"frontmatter":{"path":"/react-method-as-arguments-for-children","title":"اندر مزایای استفاده از تابع به عنوان children در React","tags":["this","that"]}}}}