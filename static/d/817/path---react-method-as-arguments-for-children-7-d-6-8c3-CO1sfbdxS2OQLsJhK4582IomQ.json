{"data":{"markdownRemark":{"html":"<p>مدتی پیش قصد داشتم از <a href=\"https://github.com/paypal/downshift\">down shift</a> استفاده کنم که شکل رندر کردنش توجهم رو جلب کرد. به شکل جذابی میومد از متد‌هایی که داخل کامپوننت والد تعریف شده بود استفاده می‌کرد و اون رو به childrenهاش می‌رسوند. این شد که رفتم دنبالش ببینم چطور همچین چیزی رو نوشته و بعد از پیدا کردن جوابم (با استفاده از خوندن کد‌های این <a href=\"https://github.com/kentcdodds/react-toggled\">پکیج</a>) تصمیم گرفتم چیزی که یاد گرفتم رو به اشتراک بگذارم.<br /></p>\n<!-- excerpt -->\n<p>قسمتی از کد:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Parent Component</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Parent</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>\n          <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> sayHello <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello React </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>sayHello<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">click me!</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Parent</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>همینطور که میبینید داخل کامپوننت Parent به جای چیزی که معمول و متداوله، اومده از یک تابع استفاده کرده که از این طریق و با کمک <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\">Destructuring</a> یک سری پراپرتی رو از کامپوننت Parent گرفته و به فرزاندانش رسونده.</p>\n<h2>چگونه؟</h2>\n<p>خب چیزی که واضحه اینه که نوع childی که تابع Parent داره رندر میکنه یک 'تابع' است خب پس ما می‌تونیم به عنوان آرگومان هر چیزی که میخوایم بهش بدیم. اونم یک گام قبل ‌تر موقع تعریف کامپوننت ‌Parent.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Parent compoennt</span>\n state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    on<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">_sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello.~~~~😎'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'hello'</span>\n  <span class=\"token punctuation\">}</span>\n\n  sayHello <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_sayHello<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">getParentHooks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      sayHello<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_sayHello<span class=\"token punctuation\">,</span>\n      on<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>on\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getParentHooks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>خوب ما مستقیما child کامپوننت Parent رو که یک تابع است صدا زدیم. و یک آبجکت که شامل متد‌ها و state هایی که داخل کامپوننت قبلا تعریف کرده بودیم میشه رو به عنوان آرگومان بهش دادیم. خب طبیعیه که هر بار این تابع مقادیری props گون رو همیشه با خودش داره!‌ و ما میتونیم به راحتی و از طریق destructuring اونها رو بگیریم و ازشون استفاده کنیم.</p>\n<h2>راه‌های دیگه</h2>\n<p>البته که هست استفاده از <a href=\"https://reactjs.org/docs/react-api.html#cloneelement\">clone element</a> یا <a href=\"https://reactjs.org/docs/context.html\">context</a> و یا تعریف یک سری اکشن با استفاده از ‌redux. اما برای خودم به شخصه این یک نمونه جالب‌تر بود یه جور حسه کاستوم کردن بهم داد که بتونم از تابعی مشابه Parent تو جاهای مختلفی استفاده کنم و اونم هر بار از یک سری متد‌ها و stateهاش.</p>\n<h2>سخن آخر</h2>\n<p>امیدوارم که مفید بوده باشه. کد‌هایی که دیدین رو میتونید به شکل ‌live از <a href=\"https://stackblitz.com/edit/react-frurd8yw9yge-children-as-a-function\">اینجا</a> اجرا کنید.</p>","frontmatter":{"title":"اندر مزایای استفاده از تابع به عنوان children در React","date":"2018-02-02","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAYBBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABy2RYaUuki//EABkQAAIDAQAAAAAAAAAAAAAAAAEEABA0If/aAAgBAQABBQIDimek80//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAADAQEAAAAAAAAAAAAAAAABAhAAEf/aAAgBAQAGPwInuSpP/8QAGxABAAICAwAAAAAAAAAAAAAAARARALFBUaH/2gAIAQEAAT8hFqCuMTWdO58TuP/aAAwDAQACAAMAAAAQXA//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAn/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QZ//EAB0QAAICAQUAAAAAAAAAAAAAAAERACEQMUFRgfD/2gAIAQEAAT8QIwjQW8FvQWU1aAFWX1j3OWP/2Q==","aspectRatio":1.7751479289940828,"src":"/static/05c02285e13347344351dddf180952c8/382c4/react-func-fun.jpg","srcSet":"/static/05c02285e13347344351dddf180952c8/ed4fb/react-func-fun.jpg 197w,\n/static/05c02285e13347344351dddf180952c8/1f560/react-func-fun.jpg 393w,\n/static/05c02285e13347344351dddf180952c8/382c4/react-func-fun.jpg 600w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},"pageContext":{"pathSlug":"/react-method-as-arguments-for-children","prev":{"frontmatter":{"path":"/make-a-slideshow-by-vanilla-javascript","title":"ساخت یک اسلاید‌‌شو ساده با وانیلا جاوا‌اسکریپت","tags":null}},"next":{"frontmatter":{"path":"/normalize-data-by-reduce","title":"normal کردن Data با استفاده از متد Reduce","tags":null}}}}